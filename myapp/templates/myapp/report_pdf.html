<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Report PDF</title>
    <style>
        body { font-family: Arial, sans-serif; }
        h2, h3 { text-align: center; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }
        th, td { border: 1px solid #000; padding: 8px; text-align: center; }
        th { background-color: #4CAF50; color: white; }
    </style>
</head>
<body>
    <h2>Nutrition Report</h2>

    <h3>Day-wise Report (Last 30 days)</h3>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Total Calories</th>
                <th>Total Protein (gm)</th>
                <th>Total Fat (gm)</th>
                <th>Total Carbs (gm)</th>
            </tr>
        </thead>
        <tbody>
            {% for day in day_data %}
            <tr>
                <td>{{ day.day|date:"Y-m-d" }}</td>
                <td>{{ day.total_calories|default:"0" }}</td>
                <td>{{ day.total_protein|default:"0" }}</td>
                <td>{{ day.total_fat|default:"0" }}</td>
                <td>{{ day.total_carbs|default:"0" }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="5">No data available</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Week-wise Report (Last 4 weeks)</h3>
    <table>
        <thead>
            <tr>
                <th>Week Starting</th>
                <th>Total Calories</th>
                <th>Total Protein (gm)</th>
                <th>Total Fat (gm)</th>
                <th>Total Carbs (gm)</th>
            </tr>
        </thead>
        <tbody>
            {% for week in week_data %}
            <tr>
                <td>{{ week.week|date:"Y-m-d" }}</td>
                <td>{{ week.total_calories|default:"0" }}</td>
                <td>{{ week.total_protein|default:"0" }}</td>
                <td>{{ week.total_fat|default:"0" }}</td>
                <td>{{ week.total_carbs|default:"0" }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="5">No data available</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <h3>Month-wise Report (Last 1 month)</h3>
    <table>
        <thead>
            <tr>
                <th>Month</th>
                <th>Total Calories</th>
                <th>Total Protein (gm)</th>
                <th>Total Fat (gm)</th>
                <th>Total Carbs (gm)</th>
            </tr>
        </thead>
        <tbody>
            {% for month in month_data %}
            <tr>
                <td>{{ month.month|date:"Y-m" }}</td>
                <td>{{ month.total_calories|default:"0" }}</td>
                <td>{{ month.total_protein|default:"0" }}</td>
                <td>{{ month.total_fat|default:"0" }}</td>
                <td>{{ month.total_carbs|default:"0" }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="5">No data available</td></tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
